<query-builder [formControl]="queryCtrl" [config]="currentConfig" [allowRuleset]="allowRuleset"
  [persistValueOnFieldChange]="persistValueOnFieldChange">
  <ng-container *queryInput="
      let rule;
      type: 'textarea';
      let getDisabledState = getDisabledState
    ">
    <textarea class="text-input text-area" [(ngModel)]="rule.value" [disabled]="getDisabledState()"
      placeholder="Custom Textarea"></textarea>
  </ng-container>
</query-builder>
<br />
<div>
  <div class="row">
    <p class="col-6">Control Valid (Vanilla): {{ queryCtrl.valid }}</p>
    <div class="col-6">
      <label><input type="checkbox" (change)="switchModes($event)" />Entity
        Mode</label>
    </div>
  </div>
  <div class="row">
    <p class="col-6">Control Touched (Vanilla): {{ queryCtrl.touched }}</p>
    <div class="col-6">
      <label><input type="checkbox" (change)="changeDisabled($event)" />Disabled</label>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <label><input type="checkbox" [(ngModel)]="allowRuleset" />Allow
        Ruleset</label>
    </div>
    <div class="col-6">
      <label><input type="checkbox" />Allow Collapse</label>
    </div>
    <div class="col-6">
      <label><input type="checkbox" [(ngModel)]="persistValueOnFieldChange" />Persist Values on Field Change</label>
    </div>
  </div>

  <textarea class="output">{{ query | json }}</textarea>
</div>